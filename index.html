<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Site E-commerce Complet</title>

<style>
body { 
  font-family: Arial, sans-serif; 
  padding: 20px; 
  background-color: #ff0000; 
  color: #fff; 
  font-size: 18px; /* TEXTE PLUS GRAND */
}

h2, h3, h4 { font-size: 22px; }

nav { position: fixed; top: 10px; left: 10px; z-index: 1000; }

#menu-list { 
  list-style: none; padding: 0; margin: 0; 
  background: #cc0000; border: 1px solid #800000; display: none; 
}

#menu-list li a { 
  display: block; padding: 8px 12px; 
  text-decoration: none; color: #fff; cursor: pointer; 
  font-size: 18px;
}

section { margin-top: 100px; display: none; }

.produit { 
  border: 1px solid #800000; padding: 10px; margin: 10px; 
  display: inline-block; width: 200px; text-align: center; 
  background-color: #ff6666; font-size: 18px;
}

.produit img { width: 160px; height: 160px; object-fit: cover; }

button { 
  font-size: 16px; padding: 6px 10px; 
  background-color: #800000; color: white; border: none; cursor: pointer; 
}

input, select, textarea { 
  width: 100%; padding:8px; margin-bottom:12px; font-size:16px; 
}
</style>
</head>
<body>

<nav>
  <button id="menu-btn">Menu ☰</button>
  <ul id="menu-list">
    <li><a onclick="showSection('produits-section')">Accueil</a></li>
    <li><a onclick="toggleSection('vendeur-section')">Vendeur</a></li>
    <li><a onclick="toggleSection('client-section')">Client</a></li>
    <li><a onclick="showAdmin()">Admin</a></li>
    <li><a onclick="scrollTo('panier-section')">Panier</a></li>
  </ul>
</nav>

<section id="produits-section" style="display:block">
  <h2>Produits disponibles</h2>
  <div id="produits-container"></div>
</section>

<section id="panier-section">
  <h2>Panier</h2>
  <div id="panier-container"></div>
</section>

<section id="client-section">
  <h2>Passer une commande</h2>
  <form id="commandeForm">
    <input type="text" id="nom" placeholder="Nom complet" required>
    <input type="text" id="telephone" placeholder="Téléphone" required>
    <input type="text" id="ville" placeholder="Ville / Préfecture" required>

    <label>Moyen de paiement :</label>
    <select id="payment" required>
      <option value="orange">Orange Money</option>
      <option value="mtn">MTN Mobile Money</option>
      <option value="paycard">Paycard</option>
    </select>

    <button type="submit">Confirmer la commande</button>
  </form>
</section>

<section id="vendeur-section">
  <h3>Connexion Vendeur</h3>
  <form id="vendeurForm">
    <input type="text" id="vendeur-username" placeholder="Nom d'utilisateur" required>
    <input type="password" id="vendeur-password" placeholder="Mot de passe" required>
    <button type="submit">Connexion</button>
  </form>

  <div id="ajoutProduit" style="display:none">
    <h3>Ajouter un produit</h3>
    <form id="formProduit">
      <input type="text" id="nomProduit" placeholder="Nom produit" required>
      <textarea id="descProduit" placeholder="Description" required></textarea>
      <input type="number" id="prixProduit" placeholder="Prix" required>
      <input type="file" id="imageProduit" accept="image/*">
      <button type="submit">Ajouter Produit</button>
    </form>
  </div>
</section>

<section id="admin-section">
  <h2>Commandes reçues</h2>
  <div id="admin-container"></div>
</section>

<script>
// MENU
document.getElementById("menu-btn").onclick = () => {
  const menu = document.getElementById("menu-list");
  menu.style.display = menu.style.display === "block" ? "none" : "block";
};

function showSection(id){
  document.querySelectorAll("section").forEach(s => s.style.display="none");
  document.getElementById(id).style.display="block";
}

function toggleSection(id){
  const sec = document.getElementById(id);
  sec.style.display = sec.style.display === "block" ? "none" : "block";
}

function scrollTo(id){
  document.getElementById(id).scrollIntoView({behavior:"smooth"});
}

// PRODUITS
let produits = JSON.parse(localStorage.getItem("produits")) || [];
let panier = JSON.parse(localStorage.getItem("panier")) || [];

function afficherProduits(){
  const container = document.getElementById("produits-container");
  container.innerHTML="";
  produits.forEach((p,i)=>{
    container.innerHTML += `
      <div class="produit">
        <img src="${p.image}">
        <h4>${p.nom}</h4>
        <p>${p.prix} FG</p>
        <button onclick="ajouterAuPanier(${i})">Ajouter</button>
      </div>`;
  });
}
afficherProduits();

function ajouterAuPanier(i){
  panier.push({...produits[i], quantite:1});
  localStorage.setItem("panier", JSON.stringify(panier));
  afficherPanier();
}

function afficherPanier(){
  const container=document.getElementById("panier-container");
  container.innerHTML="";
  panier.forEach(p=>{
    container.innerHTML += `<p>${p.nom} - ${p.prix} FG</p>`;
  });
}
afficherPanier();

// COMMANDE CLIENT
document.getElementById("commandeForm").addEventListener("submit", e=>{
  e.preventDefault();

  if(panier.length===0){ alert("Panier vide"); return; }

  const commandes = JSON.parse(localStorage.getItem("commandes")) || [];

  commandes.push({
    client: nom.value,
    tel: telephone.value,
    ville: ville.value,
    produits: panier
  });

  localStorage.setItem("commandes", JSON.stringify(commandes));
  localStorage.removeItem("panier");
  panier=[];
  afficherPanier();

  alert("Commande enregistrée ! IMPORTANT : Envoyez la capture du paiement sur WhatsApp au +224625216110 pour valider.");
});

// ADMIN
function showAdmin(){
  document.getElementById("admin-section").style.display="block";
  afficherCommandes();
}

function afficherCommandes(){
  const container = document.getElementById("admin-container");
  const commandes = JSON.parse(localStorage.getItem("commandes")) || [];
  container.innerHTML="";

  commandes.forEach((c,i)=>{
    container.innerHTML += `
      <div style="background:#fff;color:#000;padding:10px;margin:10px">
        <h4>Commande #${i+1}</h4>
        <p><b>Client:</b> ${c.client}</p>
        <p><b>Téléphone:</b> ${c.tel}</p>
        <p><b>Ville:</b> ${c.ville}</p>
        <p><b>Produits:</b></p>
        <ul>${c.produits.map(p=>`<li>${p.nom}</li>`).join("")}</ul>
      </div>`;
  });
}
</script>
</body>
  </html>
