<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>E-commerce Papasta</title>

<style>
body{font-family:Arial;background:#ff0000;color:#fff;padding:20px}
section{display:none;margin-top:150px}
button{padding:12px 16px;background:#800000;color:white;border:none;font-size:16px}
input,select,textarea{width:100%;padding:10px;margin-bottom:10px}
.produit{background:#ff6666;margin:10px;padding:10px;width:200px;display:inline-block;text-align:center}
.produit img{width:150px;height:150px;object-fit:cover}
.note{background:#990000;padding:10px;margin-top:10px;font-size:14px}
nav{position:fixed;top:20px;left:10px}
#menu-list{display:none;background:#cc0000;padding:15px;font-size:18px}
#menu-list li{list-style:none;margin-bottom:10px;cursor:pointer}
</style>
</head>

<body>

<nav>
<button onclick="toggleMenu()">☰ Menu</button>
<ul id="menu-list">
<li onclick="showSection('produits')">Produits</li>
<li onclick="showSection('panier')">Panier</li>
<li onclick="showSection('loginVendeur')">Espace Vendeur</li>
<li onclick="showSection('loginAcheteur')">Espace Acheteur</li>
<li onclick="showSection('adminLogin')">Admin</li>
</ul>
</nav>

<section id="produits" style="display:block">
<h2>Produits</h2>
<div id="produitsContainer"></div>
</section>

<section id="panier">
<h2>Commande</h2>
<div id="panierContainer"></div>
</section>

<section id="loginVendeur">
<h2>Inscription / Connexion Vendeur</h2>

<form id="vendeurForm">
<input type="text" id="vNom" placeholder="Nom" required>
<input type="text" id="vNumero" placeholder="Numéro" required>
<input type="password" id="vPass" placeholder="Mot de passe" required>
<select id="vVille"></select>
<button type="submit">Valider</button>
</form>

<div id="ajoutProduit" style="display:none">
<h3>Ajouter Produit</h3>
<form id="formProduit">
<input type="text" id="nomProduit" placeholder="Nom produit" required>
<input type="number" id="prixProduit" placeholder="Prix" required>
<input type="file" id="imageProduit" required>
<button type="submit">Ajouter</button>
</form>
</div>
</section>

<section id="loginAcheteur">
<h2>Inscription Acheteur</h2>
<input type="text" placeholder="Nom" required>
<input type="password" placeholder="Mot de passe" required>
<button>Valider</button>
</section>

<section id="adminLogin">
<h2>Connexion Admin</h2>
<input type="text" id="adminUser" placeholder="Utilisateur">
<input type="password" id="adminPass" placeholder="Mot de passe">
<button onclick="loginAdmin()">Connexion</button>
</section>

<section id="adminPanel">
<h2>Commandes reçues</h2>
<div id="adminCommandes"></div>
</section>

<script>
/* ===== VILLES ===== */
const villes=["Conakry","Kindia","Labé","Mamou","Kankan","Nzérékoré"];
document.getElementById("vVille").innerHTML=villes.map(v=>`<option>${v}</option>`).join("");

/* ===== MENU ===== */
function toggleMenu(){
 const menu=document.getElementById("menu-list");
 menu.style.display=menu.style.display==="block"?"none":"block";
}

function showSection(id){
 document.querySelectorAll("section").forEach(s=>s.style.display="none");
 document.getElementById(id).style.display="block";
}

/* ===== DONNÉES ===== */
let produits=[];
let panier=[];
let commandes=[];
let vendeurActif=null;

/* ===== PRODUITS ===== */
function afficherProduits(){
 const cont=document.getElementById("produitsContainer");
 cont.innerHTML="";
 produits.forEach((p,i)=>{
  cont.innerHTML+=`
  <div class="produit">
    <img src="${p.image}">
    <h4>${p.nom}</h4>
    <p>${p.prix} FG</p>
    <button onclick="ajouterPanier(${i})">Ajouter</button>
  </div>`;
 });
}

/* ===== PANIER ===== */
function ajouterPanier(i){
 panier=[produits[i]];
 document.getElementById("panierContainer").innerHTML=
 `<p>${produits[i].nom}</p>`;
 showSection("panier");
}

/* ===== VENDEUR ===== */
document.getElementById("vendeurForm").onsubmit=function(e){
 e.preventDefault();
 vendeurActif={nom:vNom.value};
 document.getElementById("ajoutProduit").style.display="block";
 alert("Vendeur connecté");
};

document.getElementById("formProduit").onsubmit=function(e){
 e.preventDefault();
 const reader=new FileReader();
 reader.onload=function(evt){
  produits.push({
   nom:nomProduit.value,
   prix:prixProduit.value,
   image:evt.target.result
  });
  afficherProduits();
 };
 reader.readAsDataURL(imageProduit.files[0]);
};

/* ===== ADMIN ===== */
function loginAdmin(){
 if(adminUser.value==="papasta" && adminPass.value==="papasta3494"){
  showSection("adminPanel");
 }else alert("Accès refusé");
}
</script>

</body>
  </html>
