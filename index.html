<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>E-commerce Papasta</title>

<style>
body{
  font-family:Arial;
  background:#ff0000;
  color:#fff;
  margin:0;
  padding-top:120px;
}

section{
  display:none;
  padding:20px;
}

button{
  padding:12px;
  background:#800000;
  color:#fff;
  border:none;
  font-size:16px;
}

input,select{
  width:100%;
  padding:10px;
  margin-bottom:10px;
}

.produit{
  background:#ff6666;
  margin:10px;
  padding:10px;
  width:200px;
  display:inline-block;
  text-align:center;
}

.produit img{
  width:150px;
  height:150px;
  object-fit:cover;
}

/* MENU */
nav{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  background:#990000;
  padding:15px;
}

#menu-list{
  display:none;
  background:#cc0000;
  padding:15px;
  font-size:18px;
}

#menu-list li{
  list-style:none;
  margin-bottom:12px;
  cursor:pointer;
}
</style>
</head>

<body>

<nav>
  <button onclick="toggleMenu()">☰ MENU</button>
  <ul id="menu-list">
    <li onclick="showSection('produits')">Produits</li>
    <li onclick="showSection('panier')">Panier</li>
    <li onclick="showSection('loginVendeur')">Vendeur</li>
    <li onclick="showSection('adminLogin')">Admin</li>
    <li onclick="toggleMenu()">❌ Fermer</li>
  </ul>
</nav>

<section id="produits" style="display:block">
  <h2>Produits</h2>
  <div id="produitsContainer"></div>
</section>

<section id="panier">
  <h2>Panier</h2>
  <div id="panierContainer"></div>
</section>

<section id="loginVendeur">
  <h2>Inscription Vendeur</h2>
  <form id="vendeurForm">
    <input id="vNom" placeholder="Nom" required>
    <input id="vNumero" placeholder="Numéro" required>
    <input id="vPass" type="password" placeholder="Mot de passe" required>
    <select id="vVille"></select>
    <button>Valider</button>
  </form>

  <div id="ajoutProduit" style="display:none">
    <h3>Ajouter Produit</h3>
    <form id="formProduit">
      <input id="nomProduit" placeholder="Nom produit" required>
      <input id="prixProduit" type="number" placeholder="Prix" required>
      <input id="imageProduit" type="file" required>
      <button>Ajouter</button>
    </form>
  </div>
</section>

<section id="adminLogin">
  <h2>Admin</h2>
  <input id="adminUser" placeholder="Utilisateur">
  <input id="adminPass" type="password" placeholder="Mot de passe">
  <button onclick="loginAdmin()">Connexion</button>
</section>

<section id="adminPanel">
  <h2>Commandes</h2>
  <div id="adminCommandes"></div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function(){

/* VILLES */
const villes=["Conakry","Kindia","Labé","Mamou","Kankan","Nzérékoré"];
document.getElementById("vVille").innerHTML=
  villes.map(v=>`<option>${v}</option>`).join("");

/* MENU */
window.toggleMenu=function(){
  const m=document.getElementById("menu-list");
  m.style.display=m.style.display==="block"?"none":"block";
}

window.showSection=function(id){
  document.querySelectorAll("section").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";
}

/* DONNÉES */
let produits=[];
let panier=[];
let vendeurActif=null;

/* PRODUITS */
function afficherProduits(){
  const c=document.getElementById("produitsContainer");
  c.innerHTML="";
  produits.forEach((p,i)=>{
    c.innerHTML+=`
    <div class="produit">
      <img src="${p.image}">
      <h4>${p.nom}</h4>
      <p>${p.prix} FG</p>
      <button onclick="ajouterPanier(${i})">Ajouter</button>
    </div>`;
  });
}
window.ajouterPanier=function(i){
  panier=[produits[i]];
  document.getElementById("panierContainer").innerHTML=produits[i].nom;
  showSection("panier");
}

/* VENDEUR */
document.getElementById("vendeurForm").onsubmit=function(e){
  e.preventDefault();
  vendeurActif=vNom.value;
  document.getElementById("ajoutProduit").style.display="block";
  alert("Vendeur connecté");
}

document.getElementById("formProduit").onsubmit=function(e){
  e.preventDefault();
  const r=new FileReader();
  r.onload=function(ev){
    produits.push({
      nom:nomProduit.value,
      prix:prixProduit.value,
      image:ev.target.result
    });
    afficherProduits();
  }
  r.readAsDataURL(imageProduit.files[0]);
}

/* ADMIN */
window.loginAdmin=function(){
  if(adminUser.value==="papasta" && adminPass.value==="papasta3494"){
    showSection("adminPanel");
  }else alert("Accès refusé");
}

});
</script>

</body>
      </html>
